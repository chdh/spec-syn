<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="utf-8">
 <meta name="viewport" content="width=922">
 <link rel="stylesheet" href="fonts.css">
 <link rel="stylesheet" href="app.css">
 <script src="app.js"></script>
 <title>SpecSyn - Spectral Harmonic Synthesizer</title>
</head>
<body>

<h1>SpecSyn - Spectral Harmonic Synthesizer</h1>

<h2>Spectrum (amplitude over frequency)</h2>

<div id="spectrumEditorFrame" class="functionCurveEditorFrame canvasFrame">
 <canvas id="spectrumEditorCanvas" class="functionCurveEditor" tabindex="-1">
 </canvas>
</div>
<div class="miniControlsBelowViewer">
 <div id="functionCurveEditorHelpButton" class="miniPseudoButton">Help</div>
 <label for="specDistPaintMode">Harmonics:</label>
 <select id="specDistPaintMode">
  <option value="0">none</option>
  <option value="1">background</option>
  <option value="2">bars</option>
  <option value="3">line</option>
 </select>
</div>
<div id="functionCurveEditorHelpText" class="helpText" hidden></div>

<h2>Amplitude (overall amplitude over time)</h2>

<div id="amplitudeEditorFrame" class="functionCurveEditorFrame canvasFrame">
 <canvas id="amplitudeEditorCanvas" class="functionCurveEditor" tabindex="-1">
 </canvas>
</div>

<h2>Frequency (fundamental frequency over time)</h2>

<div id="frequencyEditorFrame" class="functionCurveEditorFrame canvasFrame">
 <canvas id="frequencyEditorCanvas" class="functionCurveEditor" tabindex="-1">
 </canvas>
</div>

<div class="parmBlock">
 <div class="parmField">
  <label class="w130" for="f0Multiplier" title="Multiplicative factor for the fundamental frequency.">F0 multiplier:</label>
  <input class="w110" id="f0Multiplier" type="number" step="any" min="0.001" required>
 </div>
 <div class="parmField">
  <label class="w130" for="specMultiplier" title="Multiplicative factor for the frequency axis of the spectrum.">Spec. multiplier:</label>
  <input class="w110" id="specMultiplier" type="number" step="any" min="0.001" required>
 </div>
 <div class="parmField">
  <label class="w130" for="specShift" title="Shift in Hz for the frequency axis of the spectrum.">Spectrum shift [Hz]:</label>
  <input class="w110" id="specShift" type="number" step="any" required>
 </div>
 <div class="parmField">
  <label class="w130" for="evenAmplShift" title="Shift in dB for the amplitudes of the even numbered harmonics.">Even amp. shift [dB]:</label>
  <input class="w110" id="evenAmplShift" type="number" step="any" required>
 </div>
 <div class="parmField">
  <label class="w130" for="sampleRate" title="Sample rate in Hz for synthesizing the output signal.">Sample rate [Hz]:</label>
  <input class="w110" id="sampleRate" type="text" required>
 </div>
 <div class="parmField">
  <label class="w130" for="agcRmsLevel" title="Output RMS level for automatic gain control (AGC).">AGC RMS level:</label>
  <input class="w110" id="agcRmsLevel" type="number" step="any" min="0" required>
 </div>
 <div class="parmField">
  <label class="w130" for="outSpecWindowFunction" title="Window function for generating output spectrum.">Window function:</label>
  <select class="w110" id="outSpecWindowFunction">
  </select>
 </div>
</div>

<div class="actionButtons">
 <button id="synthesizeButton">Synthesize</button>
 <button id="synthesizeAndPlayButton">Synth + Play</button>
 <button id="resetButton">Reset</button>
</div>

<h2>Output signal</h2>

<div id="outputSignalViewerFrame" class="functionCurveViewerFrame canvasFrame">
 <canvas id="outputSignalViewerCanvas" class="functionCurveViewer" tabindex="-1">
 </canvas>
</div>
<div class="miniControlsBelowViewer">
 <div id="functionCurveViewerHelpButton" class="miniPseudoButton">Help</div>
</div>
<div id="functionCurveViewerHelpText" class="helpText" hidden></div>

<h2>Output spectrum</h2>

<div id="outputSpectrumViewerFrame" class="functionCurveViewerFrame canvasFrame">
 <canvas id="outputSpectrumViewerCanvas" class="functionCurveViewer" tabindex="-1">
 </canvas>
</div>

<div class="actionButtons">
 <button id="playOutputButton">Play</button>
 <button id="saveOutputWavFileButton">Save WAV file</button>
</div>

<div class="footer">
 Source code: <a href="https://github.com/chdh/spec-syn">Github</a>,
 Author: Christian d'Heureuse (chdh@inventec.ch)
</div>
</body>
</html>
